//script by Sophie "Shinko to Kuma". Skype: live:sophiekitsune discord: Sophie#2418 website: https://shinko-to-kuma.my-free.website/
var _0x51ee=['ghAJW','KEsfo','desktop','Grabbed\x20transport\x20page','</a>\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20width=\x2250\x22\x20style=\x22text-align:center\x22>','999','EUyDg','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','HMlnj','NgMtl','<span\x20class=\x22icon\x20header\x20stone\x22>\x20</span></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20width=\x2250\x22\x20style=\x22text-align:center\x22>','%\x20of\x20WH\x20capacity','return\x20/\x22\x20+\x20this\x20+\x20\x22/','width','availableMerchants','USVCQ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sendResources\x22\x20class=\x22vis\x22\x20border=0>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20id=\x22tableSend\x22\x20width=\x22100%\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody\x20id=\x22appendHere\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20colspan=7\x20width=â€œ550â€ \x20style=\x22text-align:center\x22\x20>Warehouse\x20balancer</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20width=\x2225%\x22\x20style=\x22text-align:center\x22>Source\x20village</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20width=\x2225%\x22\x20style=\x22text-align:center\x22>Target\x20village</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20width=\x225%\x22\x20style=\x22text-align:center\x22>Distance</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20width=\x2210%\x22\x20style=\x22text-align:center\x22>Wood</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20width=\x2210%\x22\x20style=\x22text-align:center\x22>Clay</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20width=\x2210%\x22\x20style=\x22text-align:center\x22>Iron</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20width=\x2210%\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<font\x20size=\x221\x22>Created\x20by\x20Sophie\x20\x22Shinko\x20to\x20Kuma\x22</font>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</table>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','YQAFu','log','header','location','match','ESZRg','target','class','HPkxk','#trades_table\x20tr','Incoming\x20resources:\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Wood:\x20','farmSpaceUsed','needsMorePercentage','rhLMl','ApBSV','map_send','&screen=overview_villages&mode=trader&type=inc&page=-1&type=inc','#recaptcha-anchor-label','YpqSP','.res.mwood,.warn_90.mwood,.warn.mwood','floor','gkZqD','message','YXTRN','<span\x20class=\x22icon\x20header\x20iron\x22>\x20</span></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22text-align:center\x22><input\x20type=\x22button\x22\x20class=\x22btn\x20evt-confirm-btn\x20btn-confirm-yes\x22\x20id=\x22building\x22\x20value=\x22Send\x20resources\x22\x20onclick=\x22sendResource(','fXUlM','length','tzsGN','player','post','FDNiz','bUBAd','sitter',')\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>','</td><td>Iron\x20per\x20village:\x20','pEEbv','.res.miron,.warn_90.miron,.warn.miron','mobile','SuccessMessage','Woodadjustement:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20','find','Reached\x20list\x20creation','wDKzX','irfEE','iBBiG','PcGMT','distance','TEAWV','disabled','KzwdR','AsAcX','tRWQQ','indexOf','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Iron:\x20','IaYTx',':button,#building','Excess\x20is\x20bigger\x20than\x20current\x20available\x20resources,\x20setting\x20it\x20to\x20current\x20available','Done\x20with\x20this\x20cycle','JxyyT','split','eTLJe','warehouseCapacity','UvohS','pushed\x20to\x20clean\x20array','nSBPz','name','Managed\x20to\x20grab\x20the\x20page','append','-----------------------------------------------------------------------------------------','remove','</td><td>Total\x20clay:\x20','IKfVi','uuuTa','AlAno','stone','parentElement','children','dataset','uzTHs','&screen=overview_villages&mode=prod&page=-1&','MvDEF','JpMXT',':button[id^=\x22building\x22]','prepend','bsMFA','rRAPF','Too\x20much\x20iron\x20incoming\x20in\x20','round','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22progressbar\x22\x20style=\x22width:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#36393f;\x22><div\x20id=\x22progress\x22\x20style=\x22width:\x200%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20height:\x2035px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#4CAF50;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20line-height:\x2032px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20black;\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20height=\x2240\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td><a\x20href=\x22','Village:\x20','.quickedit-vn','highFarm','QQImY','error','#mobileHeader','trim','iron','.icon.mheader','ZYXDV','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Max\x20final\x20capacity:\x20','replace','<span\x20class=\x22icon\x20header\x20wood\x22>\x20</span></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20width=\x2250\x22\x20style=\x22text-align:center\x22>','builtOutPercentage','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Warehouse\x20capacity:\x20','</td><td>Clay\x20per\x20village:\x20','KZivx','game.php?t=','game.php?&screen=overview_villages&mode=prod&page=-1&','game.php?&screen=overview_villages&mode=trader&type=inc&page=-1&type=inc','iRfoM','ZrOni','</td></tr><tr><td>Wood\x20per\x20village:\x20','fail','focus','Captcha\x20was\x20triggered!\x20refreshing\x20page.','.mheader.ressources','kHpIg','RnXqD','source','.icon.header','XxcgX','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Wood:\x20','iinfV','Too\x20much\x20clay\x20incoming\x20in\x20','ujemO','MgDkP','keys','text','.res.iron,.warn_90.iron,.warn.iron','#progress','aVHev','#contentContainer','ZiVxQ',',\x20adjusting\x20what\x20we\x20leave\x20at\x20home\x20to\x20be\x20','farmSpaceTotal','get','YZYeO','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Clay:\x20','lCpYS','sort','of\x20the\x20list','NAots','coeqw','ZIgLV','GqnqW','wood','Average\x20is\x20higher\x20than\x20capacity,\x20reduce','textContent','hnZkW','HIHsg','hypot','Reidm','\x20needs\x20help\x20growing,\x20setting\x20required\x20resources\x20to\x20','</td><td>Total\x20iron:\x20','push','EFZtK','Farm\x20almost\x20full\x20(','prop','#appendHere\x20tr','lNnrK','wZFsD','JdHVp','NgNYU','GezWo','compile','attr','url','\x20</a></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>\x20<a\x20href=\x22','JThqd','IFaDq','class=\x27row_a\x27','</td></tr></table>','points','#totals','#sendResources','reload',',\x20clayadjustement:\x20','previousElementSibling','always','class=\x27row_b\x27',')\x20in\x20','href','constructor','lowPoints','pwyzC','oTwew','css','maBuh','#appendHere','undefined','Creating\x20line\x20','nextElementSibling','test','innerText','done','innerHTML','ztEuf','combined\x20the\x20sendings'];(function(_0x5eb80b,_0x51ee4e){var _0x40cf45=function(_0x312f5c){while(--_0x312f5c){_0x5eb80b['push'](_0x5eb80b['shift']());}};var _0x53cd0f=function(){var _0x52df69={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x44c35b,_0x500917,_0x257cb0,_0x3189ef){_0x3189ef=_0x3189ef||{};var _0x53f926=_0x500917+'='+_0x257cb0;var _0x36b88a=0x0;for(var _0x541585=0x0,_0x1675a1=_0x44c35b['length'];_0x541585<_0x1675a1;_0x541585++){var _0x1ec12c=_0x44c35b[_0x541585];_0x53f926+=';\x20'+_0x1ec12c;var _0x45cc63=_0x44c35b[_0x1ec12c];_0x44c35b['push'](_0x45cc63);_0x1675a1=_0x44c35b['length'];if(_0x45cc63!==!![]){_0x53f926+='='+_0x45cc63;}}_0x3189ef['cookie']=_0x53f926;},'removeCookie':function(){return'dev';},'getCookie':function(_0x35aede,_0x4b9dfe){_0x35aede=_0x35aede||function(_0x5a53db){return _0x5a53db;};var _0x3ffc7e=_0x35aede(new RegExp('(?:^|;\x20)'+_0x4b9dfe['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x1cc636=function(_0x1f5d19,_0x5b3106){_0x1f5d19(++_0x5b3106);};_0x1cc636(_0x40cf45,_0x51ee4e);return _0x3ffc7e?decodeURIComponent(_0x3ffc7e[0x1]):undefined;}};var _0x5dc49b=function(){var _0x12f1e8=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x12f1e8['test'](_0x52df69['removeCookie']['toString']());};_0x52df69['updateCookie']=_0x5dc49b;var _0x71a504='';var _0x34214d=_0x52df69['updateCookie']();if(!_0x34214d){_0x52df69['setCookie'](['*'],'counter',0x1);}else if(_0x34214d){_0x71a504=_0x52df69['getCookie'](null,'counter');}else{_0x52df69['removeCookie']();}};_0x53cd0f();}(_0x51ee,0x1f2));var _0x40cf=function(_0x5eb80b,_0x51ee4e){_0x5eb80b=_0x5eb80b-0x0;var _0x40cf45=_0x51ee[_0x5eb80b];return _0x40cf45;};var _0x52df69=function(){var _0x216722=!![];return function(_0x5326a8,_0x1d4f00){var _0x10e645=_0x216722?function(){if(_0x1d4f00){if('MvDEF'!==_0x40cf('0x22')){tempIron=Math[_0x40cf('0x29')](parseInt(villagesData[v][_0x40cf('0x33')])+incomingIron-settings[_0x40cf('0x39')]*villagesData[v]['warehouseCapacity']);}else{var _0x24175a=_0x1d4f00['apply'](_0x5326a8,arguments);_0x1d4f00=null;return _0x24175a;}}}:function(){};_0x216722=![];return _0x10e645;};}();var _0x312f5c=_0x52df69(this,function(){var _0x55ffb7=function(){if(_0x40cf('0x8b')!==_0x40cf('0x8b')){for(var _0x27831f=0x1;_0x27831f<allMerchants[_0x40cf('0xc4')];_0x27831f++){availableMerchants['push'](allMerchants[_0x27831f][_0x40cf('0x94')]);}totalMerchants[_0x40cf('0x6d')](_0x40cf('0x9e'));}else{var _0x3b82d3=_0x55ffb7[_0x40cf('0x89')](_0x40cf('0xa5'))()[_0x40cf('0x77')](_0x40cf('0xa0'));return!_0x3b82d3['test'](_0x312f5c);}};return _0x55ffb7();});_0x312f5c();_0x279c66:var warehouseCapacity=[];var allWoodTotals=[];var allClayTotals=[];var allIronTotals=[];var availableMerchants=[];var totalMerchants=[];var farmSpaceUsed=[];var farmSpaceTotal=[];var villagePoints=[];var villagesData=[];var villageID=[];var allWoodObjects,allClayObjects,allIronObjects,allVillages;var totalsAndAverages='';var incomingRes={};var totalWood,totalStone,totalIron;var merchantOrders=[];var excessResources=[];var shortageResources=[];var links=[];var cleanLinks=[];if(typeof settings==_0x40cf('0x90')){var settings={'highFarm':0x59d8,'lowPoints':0xbb8,'builtOutPercentage':0.25,'needsMorePercentage':0.85};}if($(_0x40cf('0x81'))[0x0]){$(_0x40cf('0x81'))[0x0][_0x40cf('0x17')]();$(_0x40cf('0x80'))[0x0][_0x40cf('0x17')]();}if(game_data[_0x40cf('0xc6')][_0x40cf('0xca')]>0x0){URLIncRes=_0x40cf('0x3d')+game_data[_0x40cf('0xc6')]['id']+'&screen=overview_villages&mode=trader&type=inc&page=-1&type=inc';URLProd=_0x40cf('0x3d')+game_data['player']['id']+_0x40cf('0x21');}else{URLIncRes=_0x40cf('0x3f');URLProd=_0x40cf('0x3e');}function sendResource(_0x5e91c3,_0x3eef48,_0x1b5dd9,_0xaf1e6b,_0x14d05a){if($(_0x40cf('0xbb'))[_0x40cf('0xc4')]>0x0){if(_0x40cf('0x75')===_0x40cf('0x6e')){tempStone=parseInt(villagesData[v][_0x40cf('0x1c')])+incomingStone-stoneAverage;}else{alert(_0x40cf('0x45'));window[_0x40cf('0xad')][_0x40cf('0x82')]();}}$(_0x40cf('0x24'))[_0x40cf('0x70')](_0x40cf('0x2'),!![]);setTimeout(function(){if(_0x40cf('0x73')===_0x40cf('0x73')){$(_0x40cf('0x71'))[0x2][_0x40cf('0x17')]();$(_0x40cf('0x24'))[_0x40cf('0x70')]('disabled',![]);$(_0x40cf('0x9'))[0x0][_0x40cf('0x44')]();}else{tempWood=Math[_0x40cf('0x29')](parseInt(villagesData[v][_0x40cf('0x64')])+incomingWood-settings['builtOutPercentage']*villagesData[v]['warehouseCapacity']);}},0xc8);var _0x424325={'target_id':_0x3eef48,'wood':_0x1b5dd9,'stone':_0xaf1e6b,'iron':_0x14d05a};TribalWars[_0x40cf('0xc7')]('market',{'ajaxaction':_0x40cf('0xb9'),'village':_0x5e91c3},_0x424325,function(_0x4a62ae){if(_0x40cf('0xd5')===_0x40cf('0x40')){URLIncRes=_0x40cf('0x3f');URLProd=_0x40cf('0x3e');}else{UI['SuccessMessage'](_0x4a62ae[_0x40cf('0xc0')]);console[_0x40cf('0xab')](_0x4a62ae[_0x40cf('0xc0')]);}},!0x1);}$[_0x40cf('0x5a')](URLIncRes,function(){console[_0x40cf('0xab')](_0x40cf('0x9c'));})[_0x40cf('0x95')](function(_0x323bfe){var _0x3321ee=$(_0x323bfe);for(var _0x2b7df9=0x1;_0x2b7df9<_0x3321ee[_0x40cf('0xd3')](_0x40cf('0xb3'))[_0x40cf('0xc4')];_0x2b7df9++){var _0x1d6bac={};var _0x296ea4;if($(_0x40cf('0x31'))[0x0]){if(_0x40cf('0x26')===_0x40cf('0x26')){console[_0x40cf('0xab')](_0x40cf('0xcf'));var _0x2f4568=_0x3321ee[_0x40cf('0xd3')](_0x40cf('0xb3'))[_0x2b7df9][_0x40cf('0x1e')][0x4][_0x40cf('0x1e')][0x1][_0x40cf('0x1e')];for(var _0x233a8b=0x0;_0x233a8b<Object[_0x40cf('0x51')](_0x2f4568)['length'];_0x233a8b++){if(_0x40cf('0x9f')!=='EUyDg'){tempMaxMerchantsNeeded=Math[_0x40cf('0xbe')](tempAllExcessCombined/0x3e8);if(tempMaxMerchantsNeeded<villagesData[p][_0x40cf('0xa7')]){merchantOrders[villagesData[p]['id']]=[];merchantOrders[villagesData[p]['id']][_0x40cf('0x6d')]({'wood':Math['floor'](excessResources[p][0x0]['wood']/0x3e8),'stone':Math['floor'](excessResources[p][0x1][_0x40cf('0x1c')]/0x3e8),'iron':Math[_0x40cf('0xbe')](excessResources[p][0x2]['iron']/0x3e8)});}else{tempPercWood=excessResources[p][0x0][_0x40cf('0x64')]/tempAllExcessCombined;tempPercStone=excessResources[p][0x1][_0x40cf('0x1c')]/tempAllExcessCombined;tempPercIron=excessResources[p][0x2][_0x40cf('0x33')]/tempAllExcessCombined;merchantOrders[villagesData[p]['id']]=[];merchantOrders[villagesData[p]['id']][_0x40cf('0x6d')]({'wood':Math[_0x40cf('0xbe')](tempPercWood*villagesData[p][_0x40cf('0xa7')]),'stone':Math['floor'](tempPercStone*villagesData[p][_0x40cf('0xa7')]),'iron':Math[_0x40cf('0xbe')](tempPercIron*villagesData[p][_0x40cf('0xa7')])});}}else{var _0x5c962f=$(_0x2f4568[_0x233a8b]);var _0x6884f2=_0x5c962f[_0x40cf('0xd3')]('.icon.mheader')[_0x40cf('0x78')](_0x40cf('0xb1'))['split']('\x20');var _0x2ba49e=_0x6884f2[_0x6884f2[_0x40cf('0xc4')]-0x1];var _0x1fbf10=_0x5c962f[_0x40cf('0x52')]()[_0x40cf('0x37')](/[^\d]/g,'');_0x1d6bac[_0x2ba49e]=_0x1fbf10;_0x296ea4=_0x3321ee[_0x40cf('0xd3')](_0x40cf('0xb3'))[_0x2b7df9][_0x40cf('0x1e')][0x2][_0x40cf('0x1e')][0x2][_0x40cf('0x88')][_0x40cf('0xae')](/id=(\d*)/)[0x1];}}}else{targetName=villagesData[property]['name'];targetURL=villagesData[property][_0x40cf('0x79')];}}else{console[_0x40cf('0xab')](_0x40cf('0x9b'));var _0x2f4568=_0x3321ee[_0x40cf('0xd3')]('#trades_table\x20tr')[_0x2b7df9][_0x40cf('0x1e')][0x7][_0x40cf('0x1e')];for(var _0x233a8b=0x0;_0x233a8b<Object[_0x40cf('0x51')](_0x2f4568)[_0x40cf('0xc4')];_0x233a8b++){var _0x5c962f=$(_0x2f4568[_0x233a8b]);if(_0x5c962f[0x0][_0x40cf('0x96')][_0x40cf('0x6')](_0x40cf('0xac'))>-0x1){var _0x6884f2=_0x5c962f[_0x40cf('0xd3')](_0x40cf('0x4a'))[_0x40cf('0x78')](_0x40cf('0xb1'))[_0x40cf('0xd')]('\x20');}else{var _0x6884f2=_0x5c962f[_0x40cf('0x78')]('class')['split']('\x20');}var _0x2ba49e=_0x6884f2[_0x6884f2[_0x40cf('0xc4')]-0x1];var _0x1fbf10=_0x5c962f[_0x40cf('0x52')]()[_0x40cf('0x37')](/[^\d]/g,'');_0x1d6bac[_0x2ba49e]=_0x1fbf10;_0x296ea4=_0x3321ee['find'](_0x40cf('0xb3'))[_0x2b7df9][_0x40cf('0x1e')][0x3]['children'][0x0][_0x40cf('0x88')][_0x40cf('0xae')](/id=(\d*)/)[0x1];}}if(incomingRes[_0x296ea4]==undefined){incomingRes[_0x296ea4]={'wood':0x0,'stone':0x0,'iron':0x0};}if(_0x1d6bac[_0x40cf('0x64')]!=undefined){if(_0x40cf('0xc5')!==_0x40cf('0xc5')){console['log'](_0x40cf('0x9c'));}else{incomingRes[_0x296ea4][_0x40cf('0x64')]+=parseInt(_0x1d6bac[_0x40cf('0x64')]);}}if(_0x1d6bac[_0x40cf('0x1c')]!=undefined){if('wfxqt'===_0x40cf('0xb8')){tempWood=parseInt(villagesData[v][_0x40cf('0x64')])+incomingWood-woodAverage;}else{incomingRes[_0x296ea4][_0x40cf('0x1c')]+=parseInt(_0x1d6bac[_0x40cf('0x1c')]);}}if(_0x1d6bac[_0x40cf('0x33')]!=undefined){incomingRes[_0x296ea4][_0x40cf('0x33')]+=parseInt(_0x1d6bac[_0x40cf('0x33')]);}}$[_0x40cf('0x5a')](URLProd,function(){console[_0x40cf('0xab')](_0x40cf('0x14'));})[_0x40cf('0x95')](function(_0x3dc44a){if($('#mobileHeader')[0x0]){if(_0x40cf('0x8e')===_0x40cf('0x8e')){console[_0x40cf('0xab')](_0x40cf('0xcf'));allWoodObjects=$(_0x3dc44a)[_0x40cf('0xd3')](_0x40cf('0xbd'));allClayObjects=$(_0x3dc44a)[_0x40cf('0xd3')]('.res.mstone,.warn_90.mstone,.warn.mstone');allIronObjects=$(_0x3dc44a)[_0x40cf('0xd3')](_0x40cf('0xce'));allWarehouses=$(_0x3dc44a)[_0x40cf('0xd3')](_0x40cf('0x46'));allVillages=$(_0x3dc44a)[_0x40cf('0xd3')](_0x40cf('0x2d'));allFarms=$(_0x3dc44a)['find']('.header.population');allMerchants=$(_0x3dc44a)[_0x40cf('0xd3')]('a[href*=\x22market\x22]');productionTable=$(_0x3dc44a)['find']('#production_table\x20th');for(var _0x368e56=0x0;_0x368e56<allWoodObjects[_0x40cf('0xc4')];_0x368e56++){n=allWoodObjects[_0x368e56][_0x40cf('0x66')];n=n[_0x40cf('0x37')](/\./g,'')[_0x40cf('0x37')](',','');allWoodTotals['push'](n);};for(var _0x368e56=0x0;_0x368e56<allClayObjects[_0x40cf('0xc4')];_0x368e56++){if(_0x40cf('0x68')!==_0x40cf('0x68')){totalWood+=incomingRes[Object[_0x40cf('0x51')](incomingRes)[_0x415a67]][_0x40cf('0x64')];totalStone+=incomingRes[Object['keys'](incomingRes)[_0x415a67]]['stone'];totalIron+=incomingRes[Object[_0x40cf('0x51')](incomingRes)[_0x415a67]][_0x40cf('0x33')];}else{n=allClayObjects[_0x368e56][_0x40cf('0x66')];n=n[_0x40cf('0x37')](/\./g,'')[_0x40cf('0x37')](',','');allClayTotals[_0x40cf('0x6d')](n);}};for(var _0x368e56=0x0;_0x368e56<allIronObjects['length'];_0x368e56++){n=allIronObjects[_0x368e56][_0x40cf('0x66')];n=n[_0x40cf('0x37')](/\./g,'')[_0x40cf('0x37')](',','');allIronTotals['push'](n);};for(var _0x368e56=0x0;_0x368e56<allVillages[_0x40cf('0xc4')];_0x368e56++){if(_0x40cf('0x97')!==_0x40cf('0x97')){shortageResources[_0x15c874][_0x40cf('0x6d')]({'wood':Math[_0x40cf('0xbe')](-tempWood/0x3e8)*0x3e8});excessResources[_0x15c874][_0x40cf('0x6d')]({'wood':0x0});}else{warehouseCapacity['push'](allWarehouses[_0x368e56][_0x40cf('0x1d')][_0x40cf('0x94')]);}};for(var _0x368e56=0x0;_0x368e56<allVillages[_0x40cf('0xc4')];_0x368e56++){if('WsryM'!=='KgTSF'){for(var _0x53f989=0x1;_0x53f989<allMerchants['length'];_0x53f989++){availableMerchants[_0x40cf('0x6d')](allMerchants[_0x53f989]['innerText']);}totalMerchants[_0x40cf('0x6d')]('999');}else{targetName=villagesData[property][_0x40cf('0x13')];targetURL=villagesData[property][_0x40cf('0x79')];}};for(var _0x368e56=0x0;_0x368e56<allVillages[_0x40cf('0xc4')];_0x368e56++){farmSpaceUsed[_0x40cf('0x6d')](allFarms[_0x368e56][_0x40cf('0x1d')][_0x40cf('0x94')][_0x40cf('0xae')](/(\d*)\/(\d*)/)[0x1]);farmSpaceTotal[_0x40cf('0x6d')](allFarms[_0x368e56][_0x40cf('0x1d')][_0x40cf('0x94')][_0x40cf('0xae')](/(\d*)\/(\d*)/)[0x2]);};for(var _0x368e56=0x0;_0x368e56<allVillages[_0x40cf('0xc4')];_0x368e56++){console[_0x40cf('0xab')](_0x368e56*0x2+0x1);villagePoints['push'](productionTable[_0x368e56*0x2+0x1][_0x40cf('0x94')][_0x40cf('0x37')](/\./g,'')[_0x40cf('0x37')](',',''));}}else{var _0x5cc89d=x1-x2;var _0x4e247f=y1-y2;var _0x377702=Math[_0x40cf('0x29')](Math[_0x40cf('0x69')](_0x5cc89d,_0x4e247f));return _0x377702;}}else{console[_0x40cf('0xab')](_0x40cf('0x9b'));allWoodObjects=$(_0x3dc44a)['find']('.res.wood,.warn_90.wood,.warn.wood');allClayObjects=$(_0x3dc44a)[_0x40cf('0xd3')]('.res.stone,.warn_90.stone,.warn.stone');allIronObjects=$(_0x3dc44a)['find'](_0x40cf('0x53'));allVillages=$(_0x3dc44a)['find'](_0x40cf('0x2d'));for(var _0x368e56=0x0;_0x368e56<allWoodObjects[_0x40cf('0xc4')];_0x368e56++){if(_0x40cf('0x1b')!==_0x40cf('0x1b')){tempRow=_0x40cf('0x7d');}else{n=allWoodObjects[_0x368e56]['textContent'];n=n[_0x40cf('0x37')](/\./g,'')[_0x40cf('0x37')](',','');allWoodTotals['push'](n);}};for(var _0x368e56=0x0;_0x368e56<allClayObjects['length'];_0x368e56++){n=allClayObjects[_0x368e56][_0x40cf('0x66')];n=n[_0x40cf('0x37')](/\./g,'')[_0x40cf('0x37')](',','');allClayTotals[_0x40cf('0x6d')](n);};for(var _0x368e56=0x0;_0x368e56<allIronObjects[_0x40cf('0xc4')];_0x368e56++){n=allIronObjects[_0x368e56][_0x40cf('0x66')];n=n[_0x40cf('0x37')](/\./g,'')[_0x40cf('0x37')](',','');allIronTotals[_0x40cf('0x6d')](n);};for(var _0x368e56=0x0;_0x368e56<allVillages[_0x40cf('0xc4')];_0x368e56++){if('pPwjt'===_0x40cf('0xa8')){links[_0x40cf('0x6d')]({'source':Object['keys'](merchantOrders)[_0x54e384],'target':villageID[_0x36b296],'iron':merchantOrders[Object[_0x40cf('0x51')](merchantOrders)[_0x54e384]][0x0]['iron']*0x3e8});shortageResources[_0x36b296][0x2][_0x40cf('0x33')]-=merchantOrders[Object[_0x40cf('0x51')](merchantOrders)[_0x54e384]][0x0][_0x40cf('0x33')]*0x3e8;merchantOrders[Object['keys'](merchantOrders)[_0x54e384]][0x0][_0x40cf('0x33')]=0x0;}else{warehouseCapacity['push'](allIronObjects[_0x368e56][_0x40cf('0x1d')][_0x40cf('0x92')][_0x40cf('0x96')]);}};for(var _0x368e56=0x0;_0x368e56<allVillages[_0x40cf('0xc4')];_0x368e56++){availableMerchants[_0x40cf('0x6d')](allIronObjects[_0x368e56][_0x40cf('0x1d')][_0x40cf('0x92')][_0x40cf('0x92')][_0x40cf('0x94')][_0x40cf('0xae')](/(\d*)\/(\d*)/)[0x1]);totalMerchants[_0x40cf('0x6d')](allIronObjects[_0x368e56][_0x40cf('0x1d')]['nextElementSibling']['nextElementSibling'][_0x40cf('0x94')][_0x40cf('0xae')](/(\d*)\/(\d*)/)[0x2]);};for(var _0x368e56=0x0;_0x368e56<allVillages['length'];_0x368e56++){if(_0x40cf('0xd6')===_0x40cf('0x57')){if(links[_0x368e56][_0x40cf('0x64')]+links[_0x368e56]['stone']+links[_0x368e56][_0x40cf('0x33')]==0x0){delete links[_0x368e56];}}else{farmSpaceUsed[_0x40cf('0x6d')](allIronObjects[_0x368e56][_0x40cf('0x1d')][_0x40cf('0x92')]['nextElementSibling'][_0x40cf('0x92')][_0x40cf('0x94')][_0x40cf('0xae')](/(\d*)\/(\d*)/)[0x1]);farmSpaceTotal[_0x40cf('0x6d')](allIronObjects[_0x368e56]['parentElement'][_0x40cf('0x92')][_0x40cf('0x92')][_0x40cf('0x92')]['innerText'][_0x40cf('0xae')](/(\d*)\/(\d*)/)[0x2]);}};for(var _0x368e56=0x0;_0x368e56<allVillages[_0x40cf('0xc4')];_0x368e56++){villagePoints[_0x40cf('0x6d')](allWoodObjects[_0x368e56][_0x40cf('0x1d')][_0x40cf('0x84')][_0x40cf('0x94')][_0x40cf('0x37')](/\./g,'')[_0x40cf('0x37')](',',''));}}for(var _0x368e56=0x0;_0x368e56<allVillages['length'];_0x368e56++){villagesData[_0x40cf('0x6d')]({'id':allVillages[_0x368e56][_0x40cf('0x1f')]['id'],'points':villagePoints[_0x368e56],'url':allVillages[_0x368e56][_0x40cf('0x1e')][0x0][_0x40cf('0x1e')][0x0][_0x40cf('0x88')],'name':allVillages[_0x368e56][_0x40cf('0x94')][_0x40cf('0x32')](),'wood':allWoodTotals[_0x368e56],'stone':allClayTotals[_0x368e56],'iron':allIronTotals[_0x368e56],'availableMerchants':availableMerchants[_0x368e56],'totalMerchants':totalMerchants[_0x368e56],'warehouseCapacity':warehouseCapacity[_0x368e56],'farmSpaceUsed':farmSpaceUsed[_0x368e56],'farmSpaceTotal':farmSpaceTotal[_0x368e56]});};villagesData[_0x40cf('0x5e')]((_0x2a9237,_0xadc3d2)=>parseInt(_0x2a9237['points'])<parseInt(_0xadc3d2[_0x40cf('0x7f')])?0x1:-0x1);totalWood=0x0;totalStone=0x0;totalIron=0x0;for(var _0x368e56 in allWoodTotals){totalWood+=parseInt(allWoodTotals[_0x368e56]);}for(var _0x368e56 in allClayTotals){totalStone+=parseInt(allClayTotals[_0x368e56]);}for(var _0x368e56 in allIronTotals){if('EOMSH'==='EOMSH'){totalIron+=parseInt(allIronTotals[_0x368e56]);}else{tempIron=parseInt(villagesData[_0x15c874]['iron'])+incomingIron-ironAverage;}}for(var _0x415a67=0x0;_0x415a67<Object[_0x40cf('0x51')](incomingRes)[_0x40cf('0xc4')];_0x415a67++){totalWood+=incomingRes[Object[_0x40cf('0x51')](incomingRes)[_0x415a67]]['wood'];totalStone+=incomingRes[Object[_0x40cf('0x51')](incomingRes)[_0x415a67]][_0x40cf('0x1c')];totalIron+=incomingRes[Object[_0x40cf('0x51')](incomingRes)[_0x415a67]][_0x40cf('0x33')];}woodAverage=Math[_0x40cf('0xbe')](totalWood/warehouseCapacity[_0x40cf('0xc4')]);stoneAverage=Math[_0x40cf('0xbe')](totalStone/warehouseCapacity[_0x40cf('0xc4')]);ironAverage=Math[_0x40cf('0xbe')](totalIron/warehouseCapacity['length']);totalsAndAverages='<div\x20id=\x27totals\x27\x20class=\x27vis\x27\x20border=0><table\x20id=\x27totalsAndAverages\x27\x20width=\x27100%\x27><tr><td>Total\x20wood:\x20'+totalWood+_0x40cf('0x18')+totalStone+_0x40cf('0x6c')+totalIron+_0x40cf('0x42')+woodAverage+_0x40cf('0x3b')+stoneAverage+_0x40cf('0xcc')+ironAverage+_0x40cf('0x7e');$(_0x40cf('0x56'))['eq'](0x0)[_0x40cf('0x25')](_0x40cf('0x2a'));$(_0x40cf('0x31'))['eq'](0x0)[_0x40cf('0x25')](_0x40cf('0x2a'));for(var _0x15c874=0x0;_0x15c874<villagesData[_0x40cf('0xc4')];_0x15c874++){if(_0x40cf('0xc9')===_0x40cf('0xc9')){console[_0x40cf('0xab')](_0x40cf('0x16'));excessResources[_0x15c874]=[];shortageResources[_0x15c874]=[];villageID[_0x40cf('0x6d')](villagesData[_0x15c874]['id']);if(typeof incomingRes[villagesData[_0x15c874]['id']]==_0x40cf('0x90')){incomingWood=0x0;incomingStone=0x0;incomingIron=0x0;}else{incomingWood=incomingRes[villagesData[_0x15c874]['id']][_0x40cf('0x64')];incomingStone=incomingRes[villagesData[_0x15c874]['id']]['stone'];incomingIron=incomingRes[villagesData[_0x15c874]['id']][_0x40cf('0x33')];}console[_0x40cf('0xab')](_0x40cf('0xb4')+incomingWood+_0x40cf('0x5c')+incomingStone+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Iron:\x20'+incomingIron);if(woodAverage<villagesData[_0x15c874][_0x40cf('0xf')]*settings[_0x40cf('0xb6')]){tempWood=parseInt(villagesData[_0x15c874]['wood'])+incomingWood-woodAverage;}else{if(_0x40cf('0x41')!==_0x40cf('0x41')){excessResources[_0x15c874][_0x40cf('0x6d')]({'stone':Math[_0x40cf('0xbe')](tempStone/0x3e8)*0x3e8});shortageResources[_0x15c874][_0x40cf('0x6d')]({'stone':0x0});}else{console['log']('Average\x20is\x20higher\x20than\x20capacity,\x20reduce');tempWood=-Math[_0x40cf('0x29')](villagesData[_0x15c874][_0x40cf('0xf')]*settings['needsMorePercentage']-incomingWood-parseInt(villagesData[_0x15c874][_0x40cf('0x64')]));}}if(stoneAverage<villagesData[_0x15c874][_0x40cf('0xf')]*settings[_0x40cf('0xb6')]){if(_0x40cf('0x3')===_0x40cf('0x3')){tempStone=parseInt(villagesData[_0x15c874][_0x40cf('0x1c')])+incomingStone-stoneAverage;}else{links[_0x40cf('0x6d')]({'source':Object[_0x40cf('0x51')](merchantOrders)[_0x54e384],'target':villageID[_0x36b296],'stone':merchantOrders[Object[_0x40cf('0x51')](merchantOrders)[_0x54e384]][0x0][_0x40cf('0x1c')]*0x3e8});shortageResources[_0x36b296][0x1][_0x40cf('0x1c')]-=merchantOrders[Object[_0x40cf('0x51')](merchantOrders)[_0x54e384]][0x0][_0x40cf('0x1c')]*0x3e8;merchantOrders[Object['keys'](merchantOrders)[_0x54e384]][0x0][_0x40cf('0x1c')]=0x0;}}else{console['log'](_0x40cf('0x65'));tempStone=-Math[_0x40cf('0x29')](villagesData[_0x15c874][_0x40cf('0xf')]*settings[_0x40cf('0xb6')]-incomingStone-parseInt(villagesData[_0x15c874][_0x40cf('0x1c')]));}if(ironAverage<villagesData[_0x15c874][_0x40cf('0xf')]*settings[_0x40cf('0xb6')]){if(_0x40cf('0x5d')!=='OUCKx'){tempIron=parseInt(villagesData[_0x15c874][_0x40cf('0x33')])+incomingIron-ironAverage;}else{var _0x14fc7a=$(_0x2f4568[_0x53f989]);var _0x24bc0c=_0x14fc7a[_0x40cf('0xd3')](_0x40cf('0x34'))[_0x40cf('0x78')]('class')[_0x40cf('0xd')]('\x20');var _0x248766=_0x24bc0c[_0x24bc0c[_0x40cf('0xc4')]-0x1];var _0x1a2260=_0x14fc7a[_0x40cf('0x52')]()[_0x40cf('0x37')](/[^\d]/g,'');_0x1d6bac[_0x248766]=_0x1a2260;_0x296ea4=_0x3321ee[_0x40cf('0xd3')](_0x40cf('0xb3'))[_0x368e56][_0x40cf('0x1e')][0x2][_0x40cf('0x1e')][0x2][_0x40cf('0x88')][_0x40cf('0xae')](/id=(\d*)/)[0x1];}}else{console['log'](_0x40cf('0x65'));tempIron=-Math[_0x40cf('0x29')](villagesData[_0x15c874][_0x40cf('0xf')]*settings[_0x40cf('0xb6')]-incomingIron-parseInt(villagesData[_0x15c874][_0x40cf('0x33')]));}console[_0x40cf('0xab')](tempWood);console[_0x40cf('0xab')](tempStone);console[_0x40cf('0xab')](tempIron);if(villagesData[_0x15c874][_0x40cf('0xb5')]>settings[_0x40cf('0x2e')]){if(_0x40cf('0xa2')===_0x40cf('0x8')){console[_0x40cf('0xab')](_0x368e56*0x2+0x1);villagePoints[_0x40cf('0x6d')](productionTable[_0x368e56*0x2+0x1][_0x40cf('0x94')]['replace'](/\./g,'')['replace'](',',''));}else{console[_0x40cf('0xab')](_0x40cf('0x6f')+villagesData[_0x15c874]['farmSpaceUsed']+'/'+villagesData[_0x15c874][_0x40cf('0x59')]+_0x40cf('0x87')+villagesData[_0x15c874][_0x40cf('0x13')]+_0x40cf('0x58')+0x64*settings[_0x40cf('0x39')]+'%');if(parseInt(villagesData[_0x15c874][_0x40cf('0x64')])+incomingWood>settings[_0x40cf('0x39')]*villagesData[_0x15c874][_0x40cf('0xf')]){if('THcKY'===_0x40cf('0xaa')){console['log']('error');}else{tempWood=Math['round'](parseInt(villagesData[_0x15c874]['wood'])+incomingWood-settings['builtOutPercentage']*villagesData[_0x15c874]['warehouseCapacity']);}}if(parseInt(villagesData[_0x15c874][_0x40cf('0x1c')])+incomingStone>settings[_0x40cf('0x39')]*villagesData[_0x15c874][_0x40cf('0xf')]){tempStone=Math['round'](parseInt(villagesData[_0x15c874][_0x40cf('0x1c')])+incomingStone-settings[_0x40cf('0x39')]*villagesData[_0x15c874][_0x40cf('0xf')]);}if(parseInt(villagesData[_0x15c874][_0x40cf('0x33')])+incomingIron>settings[_0x40cf('0x39')]*villagesData[_0x15c874][_0x40cf('0xf')]){if(_0x40cf('0x1a')===_0x40cf('0x1a')){tempIron=Math[_0x40cf('0x29')](parseInt(villagesData[_0x15c874][_0x40cf('0x33')])+incomingIron-settings['builtOutPercentage']*villagesData[_0x15c874]['warehouseCapacity']);}else{return left[_0x40cf('0x0')]-right['distance'];}}}}if(villagesData[_0x15c874]['points']<settings[_0x40cf('0x8a')]){if(_0x40cf('0x99')===_0x40cf('0xcd')){console[_0x40cf('0xab')]('Average\x20is\x20higher\x20than\x20capacity,\x20reduce');tempStone=-Math[_0x40cf('0x29')](villagesData[_0x15c874][_0x40cf('0xf')]*settings[_0x40cf('0xb6')]-incomingStone-parseInt(villagesData[_0x15c874][_0x40cf('0x1c')]));}else{console[_0x40cf('0xab')](villagesData[_0x15c874][_0x40cf('0x13')]+'\x20('+villagesData[_0x15c874][_0x40cf('0x7f')]+')'+_0x40cf('0x6b')+settings[_0x40cf('0xb6')]*0x64+_0x40cf('0xa4'));tempWood=-Math[_0x40cf('0x29')](villagesData[_0x15c874][_0x40cf('0xf')]*settings[_0x40cf('0xb6')]-parseInt(villagesData[_0x15c874][_0x40cf('0x64')]));tempStone=-Math[_0x40cf('0x29')](villagesData[_0x15c874][_0x40cf('0xf')]*settings[_0x40cf('0xb6')]-parseInt(villagesData[_0x15c874]['stone']));tempIron=-Math['round'](villagesData[_0x15c874][_0x40cf('0xf')]*settings[_0x40cf('0xb6')]-parseInt(villagesData[_0x15c874][_0x40cf('0x33')]));}}if(tempWood>0x0&&tempWood>parseInt(villagesData[_0x15c874][_0x40cf('0x64')])){if(_0x40cf('0xb2')===_0x40cf('0xb2')){console[_0x40cf('0xab')](_0x40cf('0xa'));tempWood=parseInt(villagesData[_0x15c874][_0x40cf('0x64')]);}else{totalWood+=parseInt(allWoodTotals[_0x368e56]);}}if(tempStone>0x0&&tempStone>parseInt(villagesData[_0x15c874][_0x40cf('0x1c')])){if(_0x40cf('0x20')===_0x40cf('0x20')){console['log'](_0x40cf('0xa'));tempStone=parseInt(villagesData[_0x15c874]['stone']);}else{villagesData[_0x40cf('0x6d')]({'id':allVillages[_0x368e56][_0x40cf('0x1f')]['id'],'points':villagePoints[_0x368e56],'url':allVillages[_0x368e56][_0x40cf('0x1e')][0x0][_0x40cf('0x1e')][0x0][_0x40cf('0x88')],'name':allVillages[_0x368e56]['innerText'][_0x40cf('0x32')](),'wood':allWoodTotals[_0x368e56],'stone':allClayTotals[_0x368e56],'iron':allIronTotals[_0x368e56],'availableMerchants':availableMerchants[_0x368e56],'totalMerchants':totalMerchants[_0x368e56],'warehouseCapacity':warehouseCapacity[_0x368e56],'farmSpaceUsed':farmSpaceUsed[_0x368e56],'farmSpaceTotal':farmSpaceTotal[_0x368e56]});}}if(tempIron>0x0&&tempIron>parseInt(villagesData[_0x15c874][_0x40cf('0x33')])){console[_0x40cf('0xab')](_0x40cf('0xa'));tempIron=parseInt(villagesData[_0x15c874][_0x40cf('0x33')]);}console[_0x40cf('0xab')](_0x40cf('0x2c')+villagesData[_0x15c874][_0x40cf('0x13')]+'\x0a'+_0x40cf('0x36')+villagesData[_0x15c874]['warehouseCapacity']*settings[_0x40cf('0xb6')]+'\x0a'+_0x40cf('0x3a')+villagesData[_0x15c874]['warehouseCapacity']+'\x0a'+_0x40cf('0x4c')+parseInt(villagesData[_0x15c874][_0x40cf('0x64')])+'\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Clay:\x20'+parseInt(villagesData[_0x15c874]['stone'])+'\x0a'+_0x40cf('0x7')+parseInt(villagesData[_0x15c874]['iron']));console['log'](_0x40cf('0xd1')+tempWood+_0x40cf('0x83')+tempStone+',\x20ironadjustement:\x20'+tempIron);if(tempWood>0x0){excessResources[_0x15c874][_0x40cf('0x6d')]({'wood':Math[_0x40cf('0xbe')](tempWood/0x3e8)*0x3e8});shortageResources[_0x15c874][_0x40cf('0x6d')]({'wood':0x0});}else{shortageResources[_0x15c874][_0x40cf('0x6d')]({'wood':Math[_0x40cf('0xbe')](-tempWood/0x3e8)*0x3e8});excessResources[_0x15c874][_0x40cf('0x6d')]({'wood':0x0});}if(tempStone>0x0){excessResources[_0x15c874][_0x40cf('0x6d')]({'stone':Math['floor'](tempStone/0x3e8)*0x3e8});shortageResources[_0x15c874][_0x40cf('0x6d')]({'stone':0x0});}else{if(_0x40cf('0x61')!==_0x40cf('0x61')){console['log'](_0x40cf('0x9b'));var _0x32c169=_0x3321ee[_0x40cf('0xd3')](_0x40cf('0xb3'))[_0x368e56][_0x40cf('0x1e')][0x7][_0x40cf('0x1e')];for(var _0x2955f9=0x0;_0x2955f9<Object['keys'](_0x32c169)[_0x40cf('0xc4')];_0x2955f9++){var _0x1dcec6=$(_0x32c169[_0x2955f9]);if(_0x1dcec6[0x0][_0x40cf('0x96')][_0x40cf('0x6')](_0x40cf('0xac'))>-0x1){var _0x31cb1f=_0x1dcec6['find'](_0x40cf('0x4a'))[_0x40cf('0x78')]('class')[_0x40cf('0xd')]('\x20');}else{var _0x31cb1f=_0x1dcec6['attr']('class')[_0x40cf('0xd')]('\x20');}var _0x585448=_0x31cb1f[_0x31cb1f[_0x40cf('0xc4')]-0x1];var _0x655d5b=_0x1dcec6['text']()[_0x40cf('0x37')](/[^\d]/g,'');_0x1d6bac[_0x585448]=_0x655d5b;_0x296ea4=_0x3321ee['find']('#trades_table\x20tr')[_0x368e56][_0x40cf('0x1e')][0x3][_0x40cf('0x1e')][0x0]['href'][_0x40cf('0xae')](/id=(\d*)/)[0x1];}}else{shortageResources[_0x15c874][_0x40cf('0x6d')]({'stone':Math[_0x40cf('0xbe')](-tempStone/0x3e8)*0x3e8});excessResources[_0x15c874]['push']({'stone':0x0});}}if(tempIron>0x0){excessResources[_0x15c874][_0x40cf('0x6d')]({'iron':Math[_0x40cf('0xbe')](tempIron/0x3e8)*0x3e8});shortageResources[_0x15c874]['push']({'iron':0x0});}else{if(_0x40cf('0x8c')==='qFuXm'){if(villagesData[property]['id']==cleanLinks[_0x368e56][_0x40cf('0xb0')]){targetName=villagesData[property][_0x40cf('0x13')];targetURL=villagesData[property][_0x40cf('0x79')];}}else{shortageResources[_0x15c874][_0x40cf('0x6d')]({'iron':Math[_0x40cf('0xbe')](-tempIron/0x3e8)*0x3e8});excessResources[_0x15c874][_0x40cf('0x6d')]({'iron':0x0});}}if(incomingWood+parseInt(villagesData[_0x15c874][_0x40cf('0x64')])>villagesData[_0x15c874][_0x40cf('0xf')])console[_0x40cf('0xab')]('Too\x20much\x20wood\x20incoming\x20in\x20'+villagesData[_0x15c874][_0x40cf('0x13')]);if(incomingStone+parseInt(villagesData[_0x15c874]['stone'])>villagesData[_0x15c874][_0x40cf('0xf')])console[_0x40cf('0xab')](_0x40cf('0x4e')+villagesData[_0x15c874][_0x40cf('0x13')]);if(incomingIron+parseInt(villagesData[_0x15c874][_0x40cf('0x33')])>villagesData[_0x15c874][_0x40cf('0xf')])console['log'](_0x40cf('0x28')+villagesData[_0x15c874][_0x40cf('0x13')]);}else{tempPercWood=excessResources[_0x40de37][0x0][_0x40cf('0x64')]/tempAllExcessCombined;tempPercStone=excessResources[_0x40de37][0x1][_0x40cf('0x1c')]/tempAllExcessCombined;tempPercIron=excessResources[_0x40de37][0x2]['iron']/tempAllExcessCombined;merchantOrders[villagesData[_0x40de37]['id']]=[];merchantOrders[villagesData[_0x40de37]['id']][_0x40cf('0x6d')]({'wood':Math[_0x40cf('0xbe')](tempPercWood*villagesData[_0x40de37][_0x40cf('0xa7')]),'stone':Math[_0x40cf('0xbe')](tempPercStone*villagesData[_0x40de37]['availableMerchants']),'iron':Math[_0x40cf('0xbe')](tempPercIron*villagesData[_0x40de37][_0x40cf('0xa7')])});}}for(var _0x40de37=0x0;_0x40de37<excessResources[_0x40cf('0xc4')];_0x40de37++){tempAllExcessCombined=parseInt(Math['floor'](excessResources[_0x40de37][0x0][_0x40cf('0x64')]/0x3e8)*0x3e8)+parseInt(Math[_0x40cf('0xbe')](excessResources[_0x40de37][0x1]['stone']/0x3e8)*0x3e8)+parseInt(Math[_0x40cf('0xbe')](excessResources[_0x40de37][0x2][_0x40cf('0x33')]/0x3e8)*0x3e8);if(tempAllExcessCombined>0x0){tempMaxMerchantsNeeded=Math[_0x40cf('0xbe')](tempAllExcessCombined/0x3e8);if(tempMaxMerchantsNeeded<villagesData[_0x40de37][_0x40cf('0xa7')]){merchantOrders[villagesData[_0x40de37]['id']]=[];merchantOrders[villagesData[_0x40de37]['id']][_0x40cf('0x6d')]({'wood':Math[_0x40cf('0xbe')](excessResources[_0x40de37][0x0]['wood']/0x3e8),'stone':Math[_0x40cf('0xbe')](excessResources[_0x40de37][0x1][_0x40cf('0x1c')]/0x3e8),'iron':Math[_0x40cf('0xbe')](excessResources[_0x40de37][0x2]['iron']/0x3e8)});}else{if(_0x40cf('0xbc')!==_0x40cf('0x63')){tempPercWood=excessResources[_0x40de37][0x0]['wood']/tempAllExcessCombined;tempPercStone=excessResources[_0x40de37][0x1][_0x40cf('0x1c')]/tempAllExcessCombined;tempPercIron=excessResources[_0x40de37][0x2][_0x40cf('0x33')]/tempAllExcessCombined;merchantOrders[villagesData[_0x40de37]['id']]=[];merchantOrders[villagesData[_0x40de37]['id']][_0x40cf('0x6d')]({'wood':Math[_0x40cf('0xbe')](tempPercWood*villagesData[_0x40de37][_0x40cf('0xa7')]),'stone':Math[_0x40cf('0xbe')](tempPercStone*villagesData[_0x40de37][_0x40cf('0xa7')]),'iron':Math[_0x40cf('0xbe')](tempPercIron*villagesData[_0x40de37][_0x40cf('0xa7')])});}else{availableMerchants[_0x40cf('0x6d')](allMerchants[_0x53f989][_0x40cf('0x94')]);}}}}for(var _0x36b296=shortageResources[_0x40cf('0xc4')]-0x1;_0x36b296>=0x0;_0x36b296--){if(_0x40cf('0x47')===_0x40cf('0x7b')){URLIncRes='game.php?t='+game_data[_0x40cf('0xc6')]['id']+_0x40cf('0xba');URLProd=_0x40cf('0x3d')+game_data[_0x40cf('0xc6')]['id']+_0x40cf('0x21');}else{console[_0x40cf('0xab')](_0x40cf('0xa6')+((shortageResources[_0x40cf('0xc4')]-_0x36b296)/shortageResources[_0x40cf('0xc4')]*0x64+'%'));$(_0x40cf('0x54'))[_0x40cf('0x8d')](_0x40cf('0xa6'),(shortageResources[_0x40cf('0xc4')]-_0x36b296)/shortageResources[_0x40cf('0xc4')]*0x64+'%');if(shortageResources[_0x36b296][0x0][_0x40cf('0x64')]<=0x0){}else{if(_0x40cf('0x2f')===_0x40cf('0xaf')){links[_0x40cf('0x6d')]({'source':Object['keys'](merchantOrders)[_0x54e384],'target':villageID[_0x36b296],'iron':shortageResources[_0x36b296][0x2][_0x40cf('0x33')]});merchantOrders[Object['keys'](merchantOrders)[_0x54e384]][0x0][_0x40cf('0x33')]-=shortageResources[_0x36b296][0x2]['iron']/0x3e8;shortageResources[_0x36b296][0x2][_0x40cf('0x33')]=0x0;}else{while(shortageResources[_0x36b296][0x0]['wood']>0x0){if(_0x40cf('0x7c')===_0x40cf('0x7c')){var _0x481b10=0x0;for(var _0x54e384=0x0;_0x54e384<Object[_0x40cf('0x51')](merchantOrders)[_0x40cf('0xc4')];_0x54e384++){_0x481b10+=merchantOrders[Object[_0x40cf('0x51')](merchantOrders)[_0x54e384]][0x0][_0x40cf('0x64')];if(merchantOrders[Object['keys'](merchantOrders)[_0x54e384]][0x0]['wood']>0x0){if(shortageResources[_0x36b296][0x0][_0x40cf('0x64')]<=merchantOrders[Object['keys'](merchantOrders)[_0x54e384]][0x0][_0x40cf('0x64')]*0x3e8){if(_0x40cf('0xa1')!==_0x40cf('0x48')){links[_0x40cf('0x6d')]({'source':Object[_0x40cf('0x51')](merchantOrders)[_0x54e384],'target':villageID[_0x36b296],'wood':shortageResources[_0x36b296][0x0][_0x40cf('0x64')]});merchantOrders[Object[_0x40cf('0x51')](merchantOrders)[_0x54e384]][0x0][_0x40cf('0x64')]-=shortageResources[_0x36b296][0x0][_0x40cf('0x64')]/0x3e8;shortageResources[_0x36b296][0x0][_0x40cf('0x64')]=0x0;}else{if(shortageResources[_0x36b296][0x2][_0x40cf('0x33')]<=merchantOrders[Object['keys'](merchantOrders)[_0x54e384]][0x0][_0x40cf('0x33')]*0x3e8){links[_0x40cf('0x6d')]({'source':Object[_0x40cf('0x51')](merchantOrders)[_0x54e384],'target':villageID[_0x36b296],'iron':shortageResources[_0x36b296][0x2][_0x40cf('0x33')]});merchantOrders[Object[_0x40cf('0x51')](merchantOrders)[_0x54e384]][0x0][_0x40cf('0x33')]-=shortageResources[_0x36b296][0x2][_0x40cf('0x33')]/0x3e8;shortageResources[_0x36b296][0x2][_0x40cf('0x33')]=0x0;}if(shortageResources[_0x36b296][0x2]['iron']>merchantOrders[Object[_0x40cf('0x51')](merchantOrders)[_0x54e384]][0x0][_0x40cf('0x33')]*0x3e8){links[_0x40cf('0x6d')]({'source':Object[_0x40cf('0x51')](merchantOrders)[_0x54e384],'target':villageID[_0x36b296],'iron':merchantOrders[Object[_0x40cf('0x51')](merchantOrders)[_0x54e384]][0x0][_0x40cf('0x33')]*0x3e8});shortageResources[_0x36b296][0x2][_0x40cf('0x33')]-=merchantOrders[Object['keys'](merchantOrders)[_0x54e384]][0x0][_0x40cf('0x33')]*0x3e8;merchantOrders[Object[_0x40cf('0x51')](merchantOrders)[_0x54e384]][0x0][_0x40cf('0x33')]=0x0;}}}if(shortageResources[_0x36b296][0x0][_0x40cf('0x64')]>merchantOrders[Object['keys'](merchantOrders)[_0x54e384]][0x0][_0x40cf('0x64')]*0x3e8){links[_0x40cf('0x6d')]({'source':Object['keys'](merchantOrders)[_0x54e384],'target':villageID[_0x36b296],'wood':merchantOrders[Object[_0x40cf('0x51')](merchantOrders)[_0x54e384]][0x0][_0x40cf('0x64')]*0x3e8});shortageResources[_0x36b296][0x0][_0x40cf('0x64')]-=merchantOrders[Object[_0x40cf('0x51')](merchantOrders)[_0x54e384]][0x0][_0x40cf('0x64')]*0x3e8;merchantOrders[Object['keys'](merchantOrders)[_0x54e384]][0x0][_0x40cf('0x64')]=0x0;}}if(shortageResources[_0x36b296][0x0][_0x40cf('0x64')]<=0x0){if(_0x40cf('0xc1')!==_0x40cf('0x55')){break;}else{UI[_0x40cf('0xd0')](e[_0x40cf('0xc0')]);console[_0x40cf('0xab')](e['message']);}}if(_0x54e384==Object[_0x40cf('0x51')](merchantOrders)[_0x40cf('0xc4')]-0x1&&shortageResources[_0x36b296][0x0]['wood']>0x0){console[_0x40cf('0xab')](_0x40cf('0xb'));_0x481b10=0x0;break;}}if(_0x481b10==0x0){if('hnZkW'!==_0x40cf('0x67')){shortageResources[_0x15c874][_0x40cf('0x6d')]({'iron':Math['floor'](-tempIron/0x3e8)*0x3e8});excessResources[_0x15c874][_0x40cf('0x6d')]({'iron':0x0});}else{_0x36b296=0x0;break;}}}else{console[_0x40cf('0xab')](villagesData[_0x15c874]['name']+'\x20('+villagesData[_0x15c874][_0x40cf('0x7f')]+')'+_0x40cf('0x6b')+settings[_0x40cf('0xb6')]*0x64+_0x40cf('0xa4'));tempWood=-Math['round'](villagesData[_0x15c874][_0x40cf('0xf')]*settings[_0x40cf('0xb6')]-parseInt(villagesData[_0x15c874][_0x40cf('0x64')]));tempStone=-Math[_0x40cf('0x29')](villagesData[_0x15c874][_0x40cf('0xf')]*settings[_0x40cf('0xb6')]-parseInt(villagesData[_0x15c874][_0x40cf('0x1c')]));tempIron=-Math[_0x40cf('0x29')](villagesData[_0x15c874]['warehouseCapacity']*settings[_0x40cf('0xb6')]-parseInt(villagesData[_0x15c874][_0x40cf('0x33')]));}}}}}}for(var _0x36b296=shortageResources[_0x40cf('0xc4')]-0x1;_0x36b296>=0x0;_0x36b296--){console[_0x40cf('0xab')](_0x40cf('0xa6')+((shortageResources[_0x40cf('0xc4')]-_0x36b296)/shortageResources[_0x40cf('0xc4')]*0x64+'%'));$(_0x40cf('0x54'))[_0x40cf('0x8d')](_0x40cf('0xa6'),(shortageResources[_0x40cf('0xc4')]-_0x36b296)/shortageResources[_0x40cf('0xc4')]*0x64+'%');if(shortageResources[_0x36b296][0x1][_0x40cf('0x1c')]<=0x0){}else{if(_0x40cf('0xc3')!=='HxHFv'){while(shortageResources[_0x36b296][0x1][_0x40cf('0x1c')]>0x0){console[_0x40cf('0xab')](_0x36b296);var _0xd37618=0x0;for(var _0x54e384=0x0;_0x54e384<Object[_0x40cf('0x51')](merchantOrders)[_0x40cf('0xc4')];_0x54e384++){_0xd37618+=merchantOrders[Object[_0x40cf('0x51')](merchantOrders)[_0x54e384]][0x0][_0x40cf('0x1c')];if(merchantOrders[Object['keys'](merchantOrders)[_0x54e384]][0x0]['stone']>0x0){if(shortageResources[_0x36b296][0x1][_0x40cf('0x1c')]<=merchantOrders[Object[_0x40cf('0x51')](merchantOrders)[_0x54e384]][0x0][_0x40cf('0x1c')]*0x3e8){if(_0x40cf('0x76')!==_0x40cf('0xe')){links[_0x40cf('0x6d')]({'source':Object[_0x40cf('0x51')](merchantOrders)[_0x54e384],'target':villageID[_0x36b296],'stone':shortageResources[_0x36b296][0x1][_0x40cf('0x1c')]});merchantOrders[Object[_0x40cf('0x51')](merchantOrders)[_0x54e384]][0x0][_0x40cf('0x1c')]-=shortageResources[_0x36b296][0x1][_0x40cf('0x1c')]/0x3e8;shortageResources[_0x36b296][0x1][_0x40cf('0x1c')]=0x0;}else{var _0x3e9e8a=_0x5c962f[_0x40cf('0x78')](_0x40cf('0xb1'))[_0x40cf('0xd')]('\x20');}}if(shortageResources[_0x36b296][0x1][_0x40cf('0x1c')]>merchantOrders[Object[_0x40cf('0x51')](merchantOrders)[_0x54e384]][0x0][_0x40cf('0x1c')]*0x3e8){links['push']({'source':Object[_0x40cf('0x51')](merchantOrders)[_0x54e384],'target':villageID[_0x36b296],'stone':merchantOrders[Object[_0x40cf('0x51')](merchantOrders)[_0x54e384]][0x0][_0x40cf('0x1c')]*0x3e8});shortageResources[_0x36b296][0x1]['stone']-=merchantOrders[Object['keys'](merchantOrders)[_0x54e384]][0x0][_0x40cf('0x1c')]*0x3e8;merchantOrders[Object[_0x40cf('0x51')](merchantOrders)[_0x54e384]][0x0][_0x40cf('0x1c')]=0x0;}}if(shortageResources[_0x36b296][0x1][_0x40cf('0x1c')]<=0x0){if(_0x40cf('0x4')!=='AsAcX'){incomingRes[_0x296ea4]['wood']+=parseInt(_0x1d6bac[_0x40cf('0x64')]);}else{break;}}if(_0x54e384==Object[_0x40cf('0x51')](merchantOrders)[_0x40cf('0xc4')]-0x1&&shortageResources[_0x36b296][0x1][_0x40cf('0x1c')]>0x0){if(_0x40cf('0x4d')!==_0x40cf('0x72')){console[_0x40cf('0xab')]('Done\x20with\x20this\x20cycle');_0xd37618=0x0;break;}else{totalStone+=parseInt(allClayTotals[_0x368e56]);}}}if(_0xd37618==0x0){_0x36b296=0x0;break;}}}else{if(shortageResources[_0x36b296][0x1][_0x40cf('0x1c')]<=merchantOrders[Object[_0x40cf('0x51')](merchantOrders)[_0x54e384]][0x0][_0x40cf('0x1c')]*0x3e8){links[_0x40cf('0x6d')]({'source':Object[_0x40cf('0x51')](merchantOrders)[_0x54e384],'target':villageID[_0x36b296],'stone':shortageResources[_0x36b296][0x1][_0x40cf('0x1c')]});merchantOrders[Object[_0x40cf('0x51')](merchantOrders)[_0x54e384]][0x0][_0x40cf('0x1c')]-=shortageResources[_0x36b296][0x1]['stone']/0x3e8;shortageResources[_0x36b296][0x1][_0x40cf('0x1c')]=0x0;}if(shortageResources[_0x36b296][0x1][_0x40cf('0x1c')]>merchantOrders[Object[_0x40cf('0x51')](merchantOrders)[_0x54e384]][0x0][_0x40cf('0x1c')]*0x3e8){links['push']({'source':Object['keys'](merchantOrders)[_0x54e384],'target':villageID[_0x36b296],'stone':merchantOrders[Object['keys'](merchantOrders)[_0x54e384]][0x0][_0x40cf('0x1c')]*0x3e8});shortageResources[_0x36b296][0x1][_0x40cf('0x1c')]-=merchantOrders[Object[_0x40cf('0x51')](merchantOrders)[_0x54e384]][0x0]['stone']*0x3e8;merchantOrders[Object[_0x40cf('0x51')](merchantOrders)[_0x54e384]][0x0][_0x40cf('0x1c')]=0x0;}}}}for(var _0x36b296=shortageResources[_0x40cf('0xc4')]-0x1;_0x36b296>=0x0;_0x36b296--){if('JdHVp'===_0x40cf('0x74')){console['log']('width'+((shortageResources[_0x40cf('0xc4')]-_0x36b296)/shortageResources['length']*0x64+'%'));$(_0x40cf('0x54'))[_0x40cf('0x8d')](_0x40cf('0xa6'),(shortageResources[_0x40cf('0xc4')]-_0x36b296)/shortageResources['length']*0x64+'%');if(shortageResources[_0x36b296][0x2][_0x40cf('0x33')]<=0x0){}else{if(_0x40cf('0x50')===_0x40cf('0x50')){while(shortageResources[_0x36b296][0x2][_0x40cf('0x33')]>0x0){if(_0x40cf('0x62')!==_0x40cf('0x5')){var _0x5909ca=0x0;for(var _0x54e384=0x0;_0x54e384<Object[_0x40cf('0x51')](merchantOrders)[_0x40cf('0xc4')];_0x54e384++){_0x5909ca+=merchantOrders[Object[_0x40cf('0x51')](merchantOrders)[_0x54e384]][0x0][_0x40cf('0x33')];if(merchantOrders[Object[_0x40cf('0x51')](merchantOrders)[_0x54e384]][0x0][_0x40cf('0x33')]>0x0){if(_0x40cf('0x60')!==_0x40cf('0x4f')){if(shortageResources[_0x36b296][0x2][_0x40cf('0x33')]<=merchantOrders[Object[_0x40cf('0x51')](merchantOrders)[_0x54e384]][0x0][_0x40cf('0x33')]*0x3e8){if(_0x40cf('0x5b')===_0x40cf('0x5b')){links[_0x40cf('0x6d')]({'source':Object[_0x40cf('0x51')](merchantOrders)[_0x54e384],'target':villageID[_0x36b296],'iron':shortageResources[_0x36b296][0x2][_0x40cf('0x33')]});merchantOrders[Object[_0x40cf('0x51')](merchantOrders)[_0x54e384]][0x0][_0x40cf('0x33')]-=shortageResources[_0x36b296][0x2][_0x40cf('0x33')]/0x3e8;shortageResources[_0x36b296][0x2][_0x40cf('0x33')]=0x0;}else{warehouseCapacity[_0x40cf('0x6d')](allWarehouses[_0x368e56]['parentElement']['innerText']);}}if(shortageResources[_0x36b296][0x2][_0x40cf('0x33')]>merchantOrders[Object[_0x40cf('0x51')](merchantOrders)[_0x54e384]][0x0][_0x40cf('0x33')]*0x3e8){links[_0x40cf('0x6d')]({'source':Object[_0x40cf('0x51')](merchantOrders)[_0x54e384],'target':villageID[_0x36b296],'iron':merchantOrders[Object[_0x40cf('0x51')](merchantOrders)[_0x54e384]][0x0]['iron']*0x3e8});shortageResources[_0x36b296][0x2][_0x40cf('0x33')]-=merchantOrders[Object[_0x40cf('0x51')](merchantOrders)[_0x54e384]][0x0][_0x40cf('0x33')]*0x3e8;merchantOrders[Object['keys'](merchantOrders)[_0x54e384]][0x0][_0x40cf('0x33')]=0x0;}}else{console[_0x40cf('0xab')]('Excess\x20is\x20bigger\x20than\x20current\x20available\x20resources,\x20setting\x20it\x20to\x20current\x20available');tempWood=parseInt(villagesData[_0x15c874][_0x40cf('0x64')]);}}if(shortageResources[_0x36b296][0x2][_0x40cf('0x33')]<=0x0){break;}if(_0x54e384==Object[_0x40cf('0x51')](merchantOrders)[_0x40cf('0xc4')]-0x1&&shortageResources[_0x36b296][0x2][_0x40cf('0x33')]>0x0){console[_0x40cf('0xab')](_0x40cf('0xb'));totalIronToTrade=0x0;break;}}if(_0x5909ca==0x0){if(_0x40cf('0xbf')===_0x40cf('0x23')){if(villagesData[property]['id']==cleanLinks[_0x368e56][_0x40cf('0x49')]){sourceName=villagesData[property][_0x40cf('0x13')];sourceURL=villagesData[property][_0x40cf('0x79')];}}else{_0x36b296=0x0;break;}}}else{incomingWood=0x0;incomingStone=0x0;incomingIron=0x0;}}}else{n=allWoodObjects[_0x368e56][_0x40cf('0x66')];n=n['replace'](/\./g,'')[_0x40cf('0x37')](',','');allWoodTotals[_0x40cf('0x6d')](n);}}}else{n=allIronObjects[_0x368e56][_0x40cf('0x66')];n=n[_0x40cf('0x37')](/\./g,'')[_0x40cf('0x37')](',','');allIronTotals[_0x40cf('0x6d')](n);}}$('#progress')[_0x40cf('0x17')]();htmlCode=_0x40cf('0xa9')+totalsAndAverages+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';$(_0x40cf('0x31'))['eq'](0x0)[_0x40cf('0x15')](htmlCode);$(_0x40cf('0x56'))['eq'](0x0)[_0x40cf('0x25')](htmlCode);createList();})[_0x40cf('0x43')](function(){console[_0x40cf('0xab')](_0x40cf('0x30'));})[_0x40cf('0x85')](function(){console[_0x40cf('0xab')]('finished');});});function createList(){console['log'](_0x40cf('0xd4'));for(var _0x4ab048=0x0;_0x4ab048<links[_0x40cf('0xc4')];_0x4ab048++){if(_0x40cf('0x10')!==_0x40cf('0xd8')){if(links[_0x4ab048]['wood']==undefined)links[_0x4ab048][_0x40cf('0x64')]=0x0;if(links[_0x4ab048]['stone']==undefined)links[_0x4ab048]['stone']=0x0;if(links[_0x4ab048][_0x40cf('0x33')]==undefined)links[_0x4ab048][_0x40cf('0x33')]=0x0;}else{incomingRes[villageIDtemp]={'wood':0x0,'stone':0x0,'iron':0x0};}}console[_0x40cf('0xab')]('Filled\x20up\x20the\x20sendings');for(var _0x4ab048=0x0;_0x4ab048<links[_0x40cf('0xc4')];_0x4ab048++){if(_0x40cf('0x4b')===_0x40cf('0x4b')){for(var _0x1c072a=0x0;_0x1c072a<links[_0x40cf('0xc4')];_0x1c072a++){if(links[_0x4ab048][_0x40cf('0x49')]==links[_0x1c072a]['source']&&links[_0x4ab048][_0x40cf('0xb0')]==links[_0x1c072a][_0x40cf('0xb0')]&&_0x4ab048!=_0x1c072a){if(_0x40cf('0x35')===_0x40cf('0x27')){var _0x2d2bf3=$child[_0x40cf('0xd3')](_0x40cf('0x4a'))[_0x40cf('0x78')](_0x40cf('0xb1'))[_0x40cf('0xd')]('\x20');}else{links[_0x4ab048][_0x40cf('0x64')]+=parseInt(links[_0x1c072a]['wood']);links[_0x1c072a][_0x40cf('0x64')]=0x0;links[_0x4ab048][_0x40cf('0x1c')]+=parseInt(links[_0x1c072a]['stone']);links[_0x1c072a][_0x40cf('0x1c')]=0x0;links[_0x4ab048][_0x40cf('0x33')]+=parseInt(links[_0x1c072a][_0x40cf('0x33')]);links[_0x1c072a][_0x40cf('0x33')]=0x0;}}}}else{availableMerchants[_0x40cf('0x6d')](allIronObjects[_0x4ab048][_0x40cf('0x1d')]['nextElementSibling'][_0x40cf('0x92')][_0x40cf('0x94')][_0x40cf('0xae')](/(\d*)\/(\d*)/)[0x1]);totalMerchants[_0x40cf('0x6d')](allIronObjects[_0x4ab048][_0x40cf('0x1d')][_0x40cf('0x92')][_0x40cf('0x92')][_0x40cf('0x94')]['match'](/(\d*)\/(\d*)/)[0x2]);}}console[_0x40cf('0xab')](_0x40cf('0x98'));for(var _0x4ab048=0x0;_0x4ab048<links[_0x40cf('0xc4')];_0x4ab048++){if(links[_0x4ab048][_0x40cf('0x64')]+links[_0x4ab048]['stone']+links[_0x4ab048][_0x40cf('0x33')]==0x0){if(_0x40cf('0x12')!==_0x40cf('0x12')){links[_0x40cf('0x6d')]({'source':Object[_0x40cf('0x51')](merchantOrders)[m],'target':villageID[q],'wood':shortageResources[q][0x0]['wood']});merchantOrders[Object[_0x40cf('0x51')](merchantOrders)[m]][0x0][_0x40cf('0x64')]-=shortageResources[q][0x0][_0x40cf('0x64')]/0x3e8;shortageResources[q][0x0]['wood']=0x0;}else{delete links[_0x4ab048];}}}console[_0x40cf('0xab')]('removed\x20empty\x20lines');for(var _0x4ab048=0x0;_0x4ab048<Object['keys'](links)['length'];_0x4ab048++){if('TEAWV'===_0x40cf('0x1')){cleanLinks[_0x40cf('0x6d')](links[Object[_0x40cf('0x51')](links)[_0x4ab048]]);}else{console[_0x40cf('0xab')](_0x40cf('0xa'));tempStone=parseInt(villagesData[v][_0x40cf('0x1c')]);}}console[_0x40cf('0xab')](_0x40cf('0x11'));cleanLinks=addDistanceToArray(cleanLinks);listHTML='';cleanLinks[_0x40cf('0x5e')](function(_0x25f0d3,_0x354484){return _0x25f0d3[_0x40cf('0x0')]-_0x354484[_0x40cf('0x0')];});for(var _0x4ab048=0x0;_0x4ab048<cleanLinks[_0x40cf('0xc4')];_0x4ab048++){if(_0x40cf('0x6a')===_0x40cf('0x6a')){console[_0x40cf('0xab')](_0x40cf('0x91')+_0x4ab048+_0x40cf('0x5f'));if(_0x4ab048%0x2==0x0){if(_0x40cf('0x19')===_0x40cf('0x19')){tempRow=_0x40cf('0x86');}else{incomingWood=incomingRes[villagesData[v]['id']][_0x40cf('0x64')];incomingStone=incomingRes[villagesData[v]['id']]['stone'];incomingIron=incomingRes[villagesData[v]['id']]['iron'];}}else{tempRow=_0x40cf('0x7d');}for(property in villagesData){if(villagesData[property]['id']==cleanLinks[_0x4ab048][_0x40cf('0x49')]){if(_0x40cf('0xb7')!==_0x40cf('0xb7')){console[_0x40cf('0xab')](_0x40cf('0x65'));tempIron=-Math[_0x40cf('0x29')](villagesData[v][_0x40cf('0xf')]*settings[_0x40cf('0xb6')]-incomingIron-parseInt(villagesData[v][_0x40cf('0x33')]));}else{sourceName=villagesData[property][_0x40cf('0x13')];sourceURL=villagesData[property][_0x40cf('0x79')];}}}for(property in villagesData){if(_0x40cf('0x9a')===_0x40cf('0xc8')){villagePoints[_0x40cf('0x6d')](allWoodObjects[_0x4ab048][_0x40cf('0x1d')]['previousElementSibling'][_0x40cf('0x94')][_0x40cf('0x37')](/\./g,'')['replace'](',',''));}else{if(villagesData[property]['id']==cleanLinks[_0x4ab048][_0x40cf('0xb0')]){if(_0x40cf('0xc')!==_0x40cf('0xd7')){targetName=villagesData[property]['name'];targetURL=villagesData[property][_0x40cf('0x79')];}else{var _0x1e0a3a=test[_0x40cf('0x89')]('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()[_0x40cf('0x77')](_0x40cf('0xa0'));return!_0x1e0a3a[_0x40cf('0x93')](_0x312f5c);}}}}listHTML+=_0x40cf('0xd2')+tempRow+_0x40cf('0x2b')+sourceURL+'\x22>'+sourceName+_0x40cf('0x7a')+targetURL+'\x22>'+targetName+_0x40cf('0x9d')+cleanLinks[_0x4ab048][_0x40cf('0x0')]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20width=\x2250\x22\x20style=\x22text-align:center\x22>'+cleanLinks[_0x4ab048]['wood']+_0x40cf('0x38')+cleanLinks[_0x4ab048][_0x40cf('0x1c')]+_0x40cf('0xa3')+cleanLinks[_0x4ab048][_0x40cf('0x33')]+_0x40cf('0xc2')+cleanLinks[_0x4ab048][_0x40cf('0x49')]+','+cleanLinks[_0x4ab048][_0x40cf('0xb0')]+','+cleanLinks[_0x4ab048][_0x40cf('0x64')]+','+cleanLinks[_0x4ab048][_0x40cf('0x1c')]+','+cleanLinks[_0x4ab048][_0x40cf('0x33')]+_0x40cf('0xcb');}else{if(villagesData[property]['id']==array[_0x4ab048][_0x40cf('0x49')]){sourceName=villagesData[property]['name'];sourceURL=villagesData[property]['url'];}}}$(_0x40cf('0x8f'))['eq'](0x0)[_0x40cf('0x15')](listHTML);$(_0x40cf('0x9'))[0x0]['focus']();console[_0x40cf('0xab')]('Finished');}function checkDistance(_0x55ab68,_0x1ec797,_0x1ebb67,_0x52fac0){var _0x570217=_0x55ab68-_0x1ebb67;var _0x16472d=_0x1ec797-_0x52fac0;var _0x183c93=Math['round'](Math[_0x40cf('0x69')](_0x570217,_0x16472d));return _0x183c93;}function addDistanceToArray(_0x4f1ccb){for(var _0x36728c=0x0;_0x36728c<_0x4f1ccb[_0x40cf('0xc4')];_0x36728c++){for(property in villagesData){if(villagesData[property]['id']==_0x4f1ccb[_0x36728c][_0x40cf('0x49')]){if(_0x40cf('0x3c')!=='uFiXC'){sourceName=villagesData[property]['name'];sourceURL=villagesData[property][_0x40cf('0x79')];}else{var _0x589ef0=$($resourceGroups[j]);if(_0x589ef0[0x0][_0x40cf('0x96')][_0x40cf('0x6')](_0x40cf('0xac'))>-0x1){var _0x3358cf=_0x589ef0['find'](_0x40cf('0x4a'))[_0x40cf('0x78')]('class')[_0x40cf('0xd')]('\x20');}else{var _0x3358cf=_0x589ef0[_0x40cf('0x78')](_0x40cf('0xb1'))[_0x40cf('0xd')]('\x20');}var _0x3df274=_0x3358cf[_0x3358cf['length']-0x1];var _0x1e2346=_0x589ef0[_0x40cf('0x52')]()[_0x40cf('0x37')](/[^\d]/g,'');villageData[_0x3df274]=_0x1e2346;villageIDtemp=$page[_0x40cf('0xd3')](_0x40cf('0xb3'))[_0x36728c][_0x40cf('0x1e')][0x3]['children'][0x0][_0x40cf('0x88')][_0x40cf('0xae')](/id=(\d*)/)[0x1];}}}for(property in villagesData){if(villagesData[property]['id']==_0x4f1ccb[_0x36728c][_0x40cf('0xb0')]){targetName=villagesData[property][_0x40cf('0x13')];targetURL=villagesData[property][_0x40cf('0x79')];}}_0x4f1ccb[_0x36728c][_0x40cf('0x0')]=checkDistance(sourceName[_0x40cf('0xae')](/(\d+)\|(\d+)/)[0x1],sourceName[_0x40cf('0xae')](/(\d+)\|(\d+)/)[0x2],targetName['match'](/(\d+)\|(\d+)/)[0x1],targetName[_0x40cf('0xae')](/(\d+)\|(\d+)/)[0x2]);}return _0x4f1ccb;}
